<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Video Call</title>

    <!-- Add Google Font -->
    <link
      href="https://fonts.googleapis.com/css?family=DM+Sans:400,500,700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body>
    <div class="app-container">
      <div class="app-main">
  			<div class="meeting-setup">
          <h1>Welcome to VidYoo!</h1>
          <h2>Start or join a meeting</h2>
          <div>
            <button class="new-call">New meeting</button>
    				<input class="call-id" type="" name="" placeholder="Enter code">        			
            <button class="join-call">Join</button>
          </div>
  			</div>
      </div>
    </div>
    <script>
      const newCall = document.querySelector('.new-call');
      const callId = document.querySelector('.call-id');
      const joinCall = document.querySelector('.join-call');

      newCall.onclick = () => {
        callId.value = randomString(5)

        window.location.href=`/${callId.value}`
      }

      joinCall.onclick = () => {
        const callIdValue = callId.value;

        if (callIdValue.trim() == "") {
          return
        }

        const code = callIdValue.substr(-5);

        window.location.href=`/${code}`
      }

      function randomString(length = 10) {
        return Math.random().toString(36).substring(2, 2 + length);
      }
      
    </script>
    <!-- <script src="/client.js" type="text/javascript"></script> -->
  </body>
</html>
